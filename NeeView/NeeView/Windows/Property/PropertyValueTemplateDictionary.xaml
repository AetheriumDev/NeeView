<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:nvc="clr-namespace:NeeView.Windows.Controls"
                    xmlns:osc="clr-namespace:OpenSourceControls"
                    xmlns:local="clr-namespace:NeeView.Windows.Property">

    <DataTemplate DataType="{x:Type local:PropertyValue_Object}">
        <ContentControl Content="{Binding Value}" Foreground="Gray"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Boolean}">
        <CheckBox IsChecked="{Binding Value}" FocusVisualStyle="{StaticResource NVBorderFocusVisual}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_String}">
        <nvc:TextBoxWithMessage Text="{Binding Value, Mode=TwoWay}" EmptyMessage="{Binding EmptyMessage}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Integer}">
        <nvc:EnterTriggerTextBox Text="{Binding Value}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_IntegerRange}">
        <DockPanel KeyboardNavigation.TabNavigation="Local">
            <nvc:EnterTriggerTextBox DockPanel.Dock="Right" Text="{Binding Value}" Width="70" VerticalAlignment="Center" Margin="5,0,0,0" TabIndex="2"/>
            <Slider Value="{Binding Value}" Minimum="{Binding Range.Minimum}" Maximum="{Binding Range.Maximum}" SmallChange="{Binding Range.SmallChange}" LargeChange="{Binding Range.LargeChange}"
                    TickFrequency="{Binding Range.TickFrequency}" IsSnapToTickEnabled="True" VerticalAlignment="Center" FocusVisualStyle="{StaticResource NVSliderFocusVisual}" TabIndex="1"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Double}">
        <nvc:EnterTriggerTextBox Text="{Binding Value}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_DoubleRange}">
        <DockPanel KeyboardNavigation.TabNavigation="Local">
            <nvc:EnterTriggerTextBox DockPanel.Dock="Right" Text="{Binding Value}" Width="70" VerticalAlignment="Center" Margin="5,0,0,0" TabIndex="2"/>
            <Slider Value="{Binding Value}" Minimum="{Binding Range.Minimum}" Maximum="{Binding Range.Maximum}" SmallChange="{Binding Range.SmallChange}" LargeChange="{Binding Range.LargeChange}"
                    TickFrequency="{Binding Range.TickFrequency}" IsSnapToTickEnabled="True" VerticalAlignment="Center" FocusVisualStyle="{StaticResource NVSliderFocusVisual}" TabIndex="1"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Percent}">
        <DockPanel KeyboardNavigation.TabNavigation="Local">
            <nvc:EnterTriggerTextBox DockPanel.Dock="Right" Text="{Binding Value, StringFormat={}{0:P0}}" Width="70" VerticalAlignment="Center" Margin="5,0,0,0" TabIndex="2"/>
            <Slider Value="{Binding Value}" Minimum="0" Maximum="1" SmallChange="0.05" LargeChange="0.2" TickFrequency="0.01" IsSnapToTickEnabled="True" VerticalAlignment="Center"
                    FocusVisualStyle="{StaticResource NVSliderFocusVisual}" TabIndex="1" />
        </DockPanel>
    </DataTemplate>


    <DataTemplate DataType="{x:Type local:PropertyValue_Enum}">
        <ComboBox ItemsSource="{Binding Map}" SelectedValuePath="Key" DisplayMemberPath="Value" SelectedValue="{Binding SelectedValue}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Point}">
        <nvc:PointInspector Point="{Binding Value, Mode=TwoWay}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_Size}">
        <nvc:SizeInspector Size="{Binding Value, Mode=TwoWay}"/>
    </DataTemplate>

    <!-- TODO: IsHsvModeの参照の一般化 -->
    <DataTemplate DataType="{x:Type local:PropertyValue_Color}">
        <nvc:ColorPicker Color="{Binding Value, Mode=TwoWay}" IsHsvMode="{Binding IsHsvMode, RelativeSource={RelativeSource AncestorType=UserControl,AncestorLevel=2}}"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:PropertyValue_FilePath}">
        <nvc:FileNameBox Text="{Binding Value, Mode=TwoWay}" DefaultText="{Binding DefaultFileName}" Filter="{Binding Filter}" FileDialogType="{Binding FileDialogType}" Note="{Binding Note}"/>
    </DataTemplate>


    <DataTemplate x:Key="PropertyValue_Boolean_ToggleSwitch">
        <nvc:ToggleSwitch IsChecked="{Binding Value}" Height="30" HorizontalAlignment="Right" VerticalAlignment="Center" Fill="{DynamicResource NVBackground}" Stroke="{DynamicResource NVForeground}" CheckedBrush="{DynamicResource NVButtonForeground}"/>
    </DataTemplate>

    <DataTemplate x:Key="PropertyValue_Color_ComboColorPicker">
        <DockPanel KeyboardNavigation.TabNavigation="Local">
            <nvc:EnterTriggerTextBox DockPanel.Dock="Right" Text="{Binding Value}" MinWidth="100" BorderThickness="1" VerticalContentAlignment="Center" TabIndex="2"/>
            <osc:ComboColorPicker SelectedColor="{Binding Value, Mode=TwoWay}" TabIndex="1"/>
        </DockPanel>
    </DataTemplate>

</ResourceDictionary>
